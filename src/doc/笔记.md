# 特点

java8新特性，可以对集合进行查找、过滤、分组、映射数据等操作，
并且有串行、并行两种执行模式，并行模式充分的利用了多核处理器的优势，使用fork/join框架进行了任务拆分，同时提高了执行速度。
提供了一种高效且易于使用的处理数据的方式。

#### 1、不是数据结构，不会保存数据

#### 2、不会修改原来的数据源，它会将操作后的数据保存到另外一个对象中

#### 3、惰性求值，流在中间处理过程中，只是对操作进行了记录，并不会立即执行，需要等到执行终止操作的时候才会进行实际的计算

# 运行机制

- 所有的操作都是链式调用，一个元素只迭代一次
- 每一个中间操作返回一个新的流
- 每个流里面有一个属性 sourceStage 指向同一个地方 - 链表的头 Head
- 在 Head 里面就会指向 nextStage，head -> nextStage -> nextStage -> … -> null
- 有状态操作会把无状态操作截断，单独处理
- 并行环节下，有状态的中间操作不一定能并行操作，并且，被有状态操作隔断的之前的无状态操作也不一定能并行操作
- parallel / sequetial 这两个操作也是中间操作，但是他们不创建流，他们只修改流中Head的并行标志

# 迭代类型

- 外部迭代：外部迭代就是我们所使用的的对集合、数组的遍历操作
- 内部迭代：利用Stream流编程或者lambda表达式来进行迭代，相对于外部迭代，我们不需要关注它怎么样去处理数据，我们只需要给它数据，然后告诉它我们想要的结果就可以了

## 两种迭代类型的区别

+ 外部迭代是一个串行的操作，如果数据量过大，性能可能会受影响
+ 内部迭代相对来说比较简短，不用关注那么多细节。可以用并行流，达到并行操作，开发人员不用去考虑线程问题

# 分类

1. 中间操作

- 无状态(Stateless): 元素的处理不受之前元素的影响
- 有状态(Stateful): 指该操作只有拿到所有元素后才能继续下去

2. 结束操作

- 非短路操作: 指必须处理完所有的元素之后才能继续下去
- 短路操作: 指遇到某些符合条件的元素就可以得到最终结果


